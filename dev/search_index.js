var documenterSearchIndex = {"docs":
[{"location":"api/#Public-interfaces","page":"API","title":"Public interfaces","text":"","category":"section"},{"location":"api/#TrimCheck.@validate-Tuple","page":"API","title":"TrimCheck.@validate","text":"@validate call, [call,...] [init=initialization code] [verbose=true] [color=true] [warnings_limit=1] [errors_limit=1] [progressbar=true] [skip_fixes=false]\n\nGenerates a @testset with tests that check whether every call can be fully type-inferred. call is either a method name if method have single definition or a function call expression with arguments specifying types (e.g. foo(Int, String)). The test is executed in a separate Julia process, which inherits the current project environment. init is the code that sets up the environment for the test in that process. verbose is passed as a parameter to @testset. color controls whether error messages are colorized. warnings_limit controls the maximum number of warnings reported in detail for each call. Use Inf for all. errors_limit controls the maximum number of errors reported in detail for each call. Use Inf for all. progressbar controls whether a progress bar is shown during validation. By default is enabled unless running in CI environment. skip_fixes controls whether fixes are skipped during validation. By default is false.\n\n\n\n\n\n","category":"macro"},{"location":"api/#TrimCheck.validate-Tuple","page":"API","title":"TrimCheck.validate","text":"validate(signatures...; [init], [skip_fixes], [progressbar], [color])::Vector{ValidationResult}\n\nValidates a list of function call signatures (as expressions) for trim compatibility. signatures is a vector of expressions representing function calls to validate. init is an expression that initializes the environment before validation. skip_fixes if set to true, skips applying fixes during validation. Default is false. progressbar controls whether a progress bar is shown during validation. Default is false. color controls whether error messages are colorized. Default is true.\n\n\n\n\n\n","category":"method"},{"location":"release-notes/#Changelog","page":"Release Notes","title":"Changelog","text":"","category":"section"},{"location":"release-notes/#[0.1.3]","page":"Release Notes","title":"[0.1.3]","text":"","category":"section"},{"location":"release-notes/#Fixed","page":"Release Notes","title":"Fixed","text":"Inverted logic in apply_fixes\nProblems with Julia 1.12.* versions\nCompatibility with different Compiler implementations","category":"section"},{"location":"release-notes/#Added","page":"Release Notes","title":"Added","text":"Configuration option for how many errors and warnings shall be printed\nFunctions with single implementation can be specified by name only (without signature)","category":"section"},{"location":"release-notes/#[0.1.2]","page":"Release Notes","title":"[0.1.2]","text":"","category":"section"},{"location":"release-notes/#Added-2","page":"Release Notes","title":"Added","text":"Control colorization with color\nBy default print only first error, control with only_first_error.\nImplement progress_bar option, also checking if it is running in CI.\nRename macro to @validate.\nMake function validate public.","category":"section"},{"location":"release-notes/#[0.1.1]","page":"Release Notes","title":"[0.1.1]","text":"","category":"section"},{"location":"release-notes/#Added-3","page":"Release Notes","title":"Added","text":"Add progress bar to visualize progress (#4).\nAdd coloring to the output to highlight problematic types (#5).","category":"section"},{"location":"#TrimCheck.jl","page":"TrimCheck.jl","title":"TrimCheck.jl","text":"TrimCheck.jl is a Julia package for validating code compatibility with Julia's --trim compiler option. The --trim option enables aggressive code trimming, removing unused methods and code paths to reduce binary size and improve performance. However, not all code is compatible with trimming, especially if it relies on dynamic features or type instability.\n\n(Image: License) (Image: GitHub branch status) (Image: GitHub Tag) (Image: Documentation) ","category":"section"},{"location":"#Usage","page":"TrimCheck.jl","title":"Usage","text":"@validate [init=initialization code] call, [call,...]\n\nGenerates a @testset with tests that check whether every call can be fully type-inferred.\nThe test is executed in a separate Julia process, which inherits the current project environment.\ninit is the code that sets up the environment for the test in that process.\nverbose is passed as a parameter to @testset.\n\nThis is an early version of the package and the API may be subject to change.","category":"section"},{"location":"#How-It-Works","page":"TrimCheck.jl","title":"How It Works","text":"The macro @validate takes an optional initialization block and a list of function calls to check.\nIt spawns a Julia subprocess, pre-loads trim workarounds, loads the init section, and attempts to type-infer each call.\nResults are reported as test cases: passing if the call is compatible with trimming, failing otherwise.","category":"section"},{"location":"#Example","page":"TrimCheck.jl","title":"Example","text":"Suppose you have a package and want to test a function from it:\n\nmodule YourPackage\n    struct TypeUnstable\n        x # This field implicitly has type Any\n    end\n    struct TypeStable\n        x::Union{Float64,Int64} # This is a finite set of types\n    end\n    function foo(x)\n        show(Core.stdout, \"=$x=\") # Note: the default `show` uses a runtime feature for selecting the output stream, which is not trim compatible.\n    end\nend\n\nThis is best suited for test code, as it declares a @testset from the Test package:\n\n@validate(init = begin              # 'init' is executed before the test\n        using YourPackage\n    end, verbose = true,               # 'verbose' is true by default\n    YourPackage.foo(Int32),            # function signatures to test\n    YourPackage.foo(String),\n    YourPackage.foo(TypeUnstable),     # this function call will be reported as problematic\n    YourPackage.foo(TypeStable))","category":"section"},{"location":"#License","page":"TrimCheck.jl","title":"License","text":"This project is licensed under the MIT License. See the LICENSE file for details.","category":"section"}]
}
